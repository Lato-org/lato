<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,interactive-widget=resizes-content">
  <title>Lato Documentation</title>
  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="5jJETQYYwNRFHaEF4_faKkziQO39iZ_31s2J_WZOK7p9trAdLcHVmw0lmsZgPnMB6qG5JyMu5wk1Tx2OBUKXTQ">
  

  <meta name="turbo-refresh-method" content="morph">
  <meta name="turbo-refresh-scroll" content="preserve">
  <meta name="view-transition" content="same-origin">


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
<script>
hljs.configure({
  cssSelector: 'pre',
  languages: ['ruby', 'javascript', 'scss', 'html', 'erb']
})

document.addEventListener('DOMContentLoaded', () => {
  hljs.highlightAll();
});

document.addEventListener('turbo:load', () => {
  hljs.highlightAll();
});
</script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  
  <link rel="stylesheet" href="/assets/application-41a56da549b9ed9f088bc4e0bc1004aef032c839f556a1793f3c40e09a6ee820.css" media="all">
  <script type="importmap" data-turbo-track="reload">{
  "imports": {
    "lato/application": "/assets/lato/application-da017927e6f9a04a461673f60b4b79f07f67dee99929b08f8219a230e237394d.js",
    "@rails/activestorage": "/assets/activestorage.esm-3f2e9c040e7870f701a98bbbb1c77c979bbbdab80af967b59174f14d9388a0c1.js",
    "bootstrap": "/assets/bootstrap-54269516010afd745bd3f754e13dc670e8f6b20673cf40c9c583f37a7c388ee9.js",
    "lodash": "https://ga.jspm.io/npm:lodash@4.17.21/lodash.js",
    "application": "/assets/application-8af143a2d03f7b88ea77e93e0373226f1e959e43ed6d2e85b05f9d5df015f0e8.js",
    "@hotwired/turbo-rails": "/assets/turbo.min-3e48f1801baf343469811ff2c47889596fb8b7eb6d8fa63c4d81d0b94dc8c16d.js",
    "@hotwired/stimulus": "/assets/stimulus.min-dd364f16ec9504dfb72672295637a1c8838773b01c0b441bd41008124c407894.js",
    "@hotwired/stimulus-loading": "/assets/stimulus-loading-3576ce92b149ad5d6959438c6f291e2426c86df3b874c525b30faad51b0d96b3.js",
    "controllers/application": "/assets/controllers/application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e.js",
    "controllers": "/assets/controllers/index-78fbd01474398c3ea1bffd81ebe0dc0af5146c64dfdcbe64a0f4763f9840df28.js",
    "controllers/lato_account_form_user_controller": "/assets/lato/controllers/lato_account_form_user_controller-1a1852a64befc2ad913c250288ee4ab890db01f0401291dc34cd25612292a0fb.js",
    "controllers/lato_action_controller": "/assets/lato/controllers/lato_action_controller-b5bf90674ec19974055751aca6862684575da04a9cd282f0f153fc575ac31214.js",
    "controllers/lato_aside_opener_controller": "/assets/lato/controllers/lato_aside_opener_controller-4d1ed9086fcd01e9c001ee51c11094aab1e99712f0c61cd7ae8e43cc3ce44a83.js",
    "controllers/lato_confirm_controller": "/assets/lato/controllers/lato_confirm_controller-bee4fe291abfb1603b992c678401028a892a54243750fa99be5220960c19f6f0.js",
    "controllers/lato_copyclip_controller": "/assets/lato/controllers/lato_copyclip_controller-3c6bd0cf431edac433e801b9dfd87dfca76e6a146e98574322f6fd9ab86e3c16.js",
    "controllers/lato_feedback_controller": "/assets/lato/controllers/lato_feedback_controller-dc584e2a718b86203162e6819eca39fe0f5d7768a07c7e23d0e2374030536b1d.js",
    "controllers/lato_form_controller": "/assets/lato/controllers/lato_form_controller-678ba67687422ffe3805d1592f56bf8dd915ea1c16612a75657020c109657c06.js",
    "controllers/lato_guide_controller": "/assets/lato/controllers/lato_guide_controller-acb7f481815870d8697dcdb5f57c520de761c0d0d881cfad75a39d57ad4cacbc.js",
    "controllers/lato_hcaptcha_controller": "/assets/lato/controllers/lato_hcaptcha_controller-7a543452946b1ee4cd3dbbf03037c5c49c566a1cd3c2d2e4930c8b018f4ef021.js",
    "controllers/lato_hello_controller": "/assets/lato/controllers/lato_hello_controller-4f022ac0c6badd72dc8dbb9bc0242e533a1b54c86421c1c3efd8a24c7e8a8d41.js",
    "controllers/lato_index_controller": "/assets/lato/controllers/lato_index_controller-20b04745b6c9da4f87e5943e7fe79e48b194a4135fc8ad4972142c3d2e867c71.js",
    "controllers/lato_input_autocomplete2_controller": "/assets/lato/controllers/lato_input_autocomplete2_controller-4ae4106211c6b5b99eb76120bdb4ec2ae1acc9ffc8e86ba90bfd4121e39e5454.js",
    "controllers/lato_input_autocomplete_controller": "/assets/lato/controllers/lato_input_autocomplete_controller-4a8564ebb3256646f9baec549ed61c5389b278d5267470de231e05baa1d076ff.js",
    "controllers/lato_input_dropzone_controller": "/assets/lato/controllers/lato_input_dropzone_controller-a5c47ddd2b1c6bac6e4ebe98389fc66184e5ecaeddba3d91099b0a68a5fb49fe.js",
    "controllers/lato_network_controller": "/assets/lato/controllers/lato_network_controller-662ea8fbd8d5a94d3ee2a56b21e88406fa23aaf6036cef0f77cce66ce0086304.js",
    "controllers/lato_operation_controller": "/assets/lato/controllers/lato_operation_controller-8b0d95e0b5cde168781e64b19d0c7d84c4ac1f7984419e3faf051bc2f9f599bd.js",
    "controllers/lato_tooltip_controller": "/assets/lato/controllers/lato_tooltip_controller-00b907dc82b798c60949813ec2f35772c4336db3cc5e021b5f3413b648bae1b8.js",
    "controllers/hello_controller": "/assets/controllers/hello_controller-549135e8e7c683a538c3d6d517339ba470fcfb79d62f738a0a089ba41851a554.js"
  }
}</script>
<link rel="modulepreload" href="/assets/lato/application-da017927e6f9a04a461673f60b4b79f07f67dee99929b08f8219a230e237394d.js">
<link rel="modulepreload" href="/assets/activestorage.esm-3f2e9c040e7870f701a98bbbb1c77c979bbbdab80af967b59174f14d9388a0c1.js">
<link rel="modulepreload" href="/assets/bootstrap-54269516010afd745bd3f754e13dc670e8f6b20673cf40c9c583f37a7c388ee9.js">
<link rel="modulepreload" href="https://ga.jspm.io/npm:lodash@4.17.21/lodash.js">
<link rel="modulepreload" href="/assets/application-8af143a2d03f7b88ea77e93e0373226f1e959e43ed6d2e85b05f9d5df015f0e8.js">
<link rel="modulepreload" href="/assets/turbo.min-3e48f1801baf343469811ff2c47889596fb8b7eb6d8fa63c4d81d0b94dc8c16d.js">
<link rel="modulepreload" href="/assets/stimulus.min-dd364f16ec9504dfb72672295637a1c8838773b01c0b441bd41008124c407894.js">
<link rel="modulepreload" href="/assets/stimulus-loading-3576ce92b149ad5d6959438c6f291e2426c86df3b874c525b30faad51b0d96b3.js">
<link rel="modulepreload" href="/assets/controllers/application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e.js">
<link rel="modulepreload" href="/assets/controllers/index-78fbd01474398c3ea1bffd81ebe0dc0af5146c64dfdcbe64a0f4763f9840df28.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_account_form_user_controller-1a1852a64befc2ad913c250288ee4ab890db01f0401291dc34cd25612292a0fb.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_action_controller-b5bf90674ec19974055751aca6862684575da04a9cd282f0f153fc575ac31214.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_aside_opener_controller-4d1ed9086fcd01e9c001ee51c11094aab1e99712f0c61cd7ae8e43cc3ce44a83.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_confirm_controller-bee4fe291abfb1603b992c678401028a892a54243750fa99be5220960c19f6f0.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_copyclip_controller-3c6bd0cf431edac433e801b9dfd87dfca76e6a146e98574322f6fd9ab86e3c16.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_feedback_controller-dc584e2a718b86203162e6819eca39fe0f5d7768a07c7e23d0e2374030536b1d.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_form_controller-678ba67687422ffe3805d1592f56bf8dd915ea1c16612a75657020c109657c06.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_guide_controller-acb7f481815870d8697dcdb5f57c520de761c0d0d881cfad75a39d57ad4cacbc.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_hcaptcha_controller-7a543452946b1ee4cd3dbbf03037c5c49c566a1cd3c2d2e4930c8b018f4ef021.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_hello_controller-4f022ac0c6badd72dc8dbb9bc0242e533a1b54c86421c1c3efd8a24c7e8a8d41.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_index_controller-20b04745b6c9da4f87e5943e7fe79e48b194a4135fc8ad4972142c3d2e867c71.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_input_autocomplete2_controller-4ae4106211c6b5b99eb76120bdb4ec2ae1acc9ffc8e86ba90bfd4121e39e5454.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_input_autocomplete_controller-4a8564ebb3256646f9baec549ed61c5389b278d5267470de231e05baa1d076ff.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_input_dropzone_controller-a5c47ddd2b1c6bac6e4ebe98389fc66184e5ecaeddba3d91099b0a68a5fb49fe.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_network_controller-662ea8fbd8d5a94d3ee2a56b21e88406fa23aaf6036cef0f77cce66ce0086304.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_operation_controller-8b0d95e0b5cde168781e64b19d0c7d84c4ac1f7984419e3faf051bc2f9f599bd.js">
<link rel="modulepreload" href="/assets/lato/controllers/lato_tooltip_controller-00b907dc82b798c60949813ec2f35772c4336db3cc5e021b5f3413b648bae1b8.js">
<link rel="modulepreload" href="/assets/controllers/hello_controller-549135e8e7c683a538c3d6d517339ba470fcfb79d62f738a0a089ba41851a554.js">
<script type="module">import "application"</script>
</head>
<body class="controller-tutorial action-crud " data-controller="lato-action lato-guide">
  <header>
    <nav id="nav" class="navbar navbar-dark navbar-expand-lg fixed-top bg-primary shadow-sm px-md-3">
  <div class="container-fluid">
    <a class="navbar-brand" href="tutorial.html">
      Lato Documentation

<!--
<img src="https://getbootstrap.com/docs/5.0/assets/brand/bootstrap-logo.svg" alt="" width="30" height="24" class="d-inline-block align-text-top">
<span>Lato Documentation</span>
-->
</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarMenu">
      <ul class="navbar-nav">
          <li class="nav-item">
  <a class="nav-link" href="tutorial.html">
    
    Tutorial

</a>
</li>  <li class="nav-item">
  <a class="nav-link" href="https://github.com/Lato-org/lato">
    
    Github

</a>
</li>
      </ul>
    </div>
  </div>
</nav>
  </header>

  <div class="d-flex">

      <aside>
        <div class="d-flex flex-column h-100 overflow-y-auto p-3 bg-light border-end">
  <ul class="nav nav-pills flex-column mb-auto">
    
  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="index.html">
      
  <i class="bi bi-house me-2"></i> Homepage


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="tutorial.html">
      
  <i class="bi bi-info-circle me-2"></i> Tutorial


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="configuration.html">
      
  <i class="bi bi-gear me-2"></i> Configuration


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="customization.html">
      
  <i class="bi bi-brightness-high me-2"></i> Customization


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="components.html">
      
  <i class="bi bi-columns me-2"></i> Components


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="operations.html">
      
  <i class="bi bi-pc-display-horizontal me-2"></i> Operations


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="actions.html">
      
  <i class="bi bi-layout-three-columns me-2"></i> Actions


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="invitations.html">
      
  <i class="bi bi-envelope-heart me-2"></i> Invitations


</a>  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" href="guide.html">
      
  <i class="bi bi-book me-2"></i> Guide


</a>  </li>


  <!-- Menu con dropdown per children -->
  <li class="nav-item border-bottom py-2">
    <div class="nav-link position-relative dropdown">
      <a href='javascript:alert("This%20link%20is%20not%20available%20in%20the%20documentation.%20To%20test%20the%20full%20functionality%20of%20Lato,%20install%20and%20run%20the%20gem%20locally.")' class="link-dark text-decoration-none dropdown-toggle d-flex align-items-center" data-bs-toggle="collapse" data-bs-target="#sidebar-nav-item-dropdown-crud" aria-expanded="true">
        
  <i class="bi bi-list me-2"></i> CRUD

      </a>
      
      <div class="collapse show" id="sidebar-nav-item-dropdown-crud">
        <ul class="list-unstyled mt-2 border-start border-1 ps-2">
            <li class="py-1">
              <a class="nav-link py-1 active" href="crud.html">
                How to built
</a>            </li>
            <li class="py-1">
              <a class="nav-link py-1 link-dark" href="products.html">
                Example
</a>            </li>
        </ul>
      </div>
    </div>
  </li>


  <!-- Menu normale senza children -->
  <li class="nav-item border-bottom py-2">
    <a class="nav-link position-relative link-dark" target="_blank" href="https://github.com/Lato-org/lato">
      
  <i class="bi bi-github me-2"></i> GitHub


        <i class="bi bi-arrow-up-right position-absolute end-0 top-50 translate-middle-y me-2" style="font-size: 0.75rem"></i>
</a>  </li>

  </ul>
</div>
      </aside>

    <main class="layout_sidebar">
      <div class="content px-md-3 py-3">
  <div class="container-fluid">
    <div class="lato-page-head border-bottom mb-3">
    <ol class="breadcrumb mb-1">
        <li class="breadcrumb-item">
          <a href="tutorial.html">Tutorial</a>
        </li>
        <li class="breadcrumb-item">
          <span>CRUD</span>
        </li>
    </ol>

  <h1>CRUD</h1>

  
</div>


<p>
This section illustrates how to build a full CRUD interface using Lato features.
</p>

<h2>Model</h2>

<pre>
class Product &lt; ApplicationRecord
  enum :status, {
    created: 0,
    in_progress: 1,
    completed: 2,
    cancelled: 3
  }, suffix: true

  attr_reader :actions

  # Relations
  ##

  belongs_to :lato_user, class_name: 'Lato::User'
  belongs_to :product_parent, class_name: 'Product', optional: true
  has_many :product_children, class_name: 'Product', foreign_key: :product_parent_id

  # Scopes
  ##

  scope :lato_index_order, -&gt;(column, order) do
    return joins(:lato_user).order("lato_users.last_name #{order}, lato_users.first_name #{order}") if column == :lato_user_id

    order("#{column} #{order}")
  end

  scope :lato_index_search, -&gt;(search) do
    joins(:lato_user).where("lower(code) LIKE :search OR lower(lato_users.first_name) LIKE :search OR lower(lato_users.last_name) LIKE :search", search: "%#{search.downcase.strip}%")
  end

  # Hooks
  ##

  before_create do
    self.status ||= :created
  end

  # Helpers
  ##

  def lifetime
    Time.now - created_at
  end

  def status_color
    return 'warning' if created_status?
    return 'primary' if in_progress_status?
    return 'success' if completed_status?
    return 'danger' if cancelled_status?

    'secondary'
  end
end

</pre>

<h2>Controller</h2>

<pre>
class ProductsController &lt; ApplicationController
  before_action :authenticate_session
  before_action { active_sidebar(:products) }

  def index
    columns = %i[id code status product_parent_id lato_user_id custom_dynamic_column created_at actions]
    sortable_columns = %i[id code status lato_user_id]
    searchable_columns = %i[id code lato_user_id]

    @products = lato_index_collection(
      Product.all.includes(:lato_user),
      columns: columns,
      sortable_columns: sortable_columns,
      searchable_columns: searchable_columns,
      default_sort_by: 'code|ASC',
      pagination: 10,
    )
  end

  # NOTE: This endpoint is used for inputs with autocomplete feature to select a product using search.
  def index_autocomplete
    unless params[:value].blank?
      @product = Product.find_by(id: params[:value])
      return render json: @product ? { label: @product.code, value: @product.id } : nil
    end

    @products = Product.where('code LIKE ?', "#{params[:q]}%").limit(10)
    render json: @products.map { |product| { label: product.code, value: product.id } }
  end

  def create
    @product = Product.new
  end

  def create_action
    @product = Product.new(product_params.merge(lato_user_id: @session.user_id))

    respond_to do |format|
      if @product.save
        format.html { redirect_to main_app.products_path, notice: 'Product created successfully' }
        format.json { render json: @product }
      else
        format.html { render :create, status: :unprocessable_entity }
        format.json { render json: @product.errors, status: :unprocessable_entity }
      end
    end
  end

  def update
    @product = Product.find(params[:id])
  end

  def update_action
    @product = Product.find(params[:id])

    respond_to do |format|
      if @product.update(product_params)
        format.html { redirect_to main_app.products_path, notice: 'Product updated successfully' }
        format.json { render json: @product }
      else
        format.html { render :update, status: :unprocessable_entity }
        format.json { render json: @product.errors, status: :unprocessable_entity }
      end
    end
  end

  def export_action
    @operation = Lato::Operation.generate('ExportProductsJob', {}, @session.user_id)

    respond_to do |format|
      if @operation.start
        format.html { redirect_to lato.operation_path(@operation) }
        format.json { render json: @operation }
      else
        format.html { render :index, status: :unprocessable_entity }
        format.json { render json: @operation.errors, status: :unprocessable_entity }
      end
    end
  end

  private

  def product_params
    params.require(:product).permit(:code, :product_parent_id)
  end
end

</pre>

<h2>Views</h2>

<h3>Index</h3>

<pre>
&lt;%= lato_page_head 'Products', [
  { label: 'Products' }
] %&gt;

&lt;%= lato_index @products,
  custom_actions: {
    create: {
      path: products_create_path,
      icon: 'bi bi-plus',
      title: 'Create product',
      data: {
        controller: 'lato-tooltip',
        lato_action_target: 'trigger',
        turbo_frame: dom_id(Product.new, 'form'),
        action_title: 'Create product'
      }
    },
    export: {
      path: products_export_action_path,
      icon: 'bi bi-download',
      title: 'Export products',
      data: {
        controller: 'lato-tooltip',
        lato_action_target: 'trigger',
        turbo_method: :post,
        turbo_frame: 'lato_operation'
      }
    },
  },
  dropdown_actions: {
    icon: 'bi bi-three-dots',
    title: 'More actions',
    data: {
      controller: 'lato-tooltip',
    },
    actions: [
      {
        path: '#',
        icon: 'bi bi-trash',
        title: 'Example 1',
        data: {
          custom: 'value',
        }
      },
      {
        path: '#',
        icon: 'bi bi-download',
        title: 'Example 2',
        data: {
          custom: 'value',
        }
      }
    ]
  },
  pagination_options: [10,20,50,100]
%&gt;

</pre>

<h3>Create</h3>

<pre>
&lt;%= lato_page_head 'New product', [
  { label: 'Products', path: products_path },
  { label: 'New product' }
] %&gt;

&lt;div class="card mb-4"&gt;
  &lt;div class="card-header"&gt;
    &lt;h2 class="fs-4 mb-0"&gt;New product registration&lt;/h2&gt;
  &lt;/div&gt;
  &lt;div class="card-body"&gt;
    &lt;%= render 'products/form', product: @product %&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>

<h3>Update</h3>

<pre>
&lt;%= lato_page_head 'Edit product', [
  { label: 'Products', path: products_path },
  { label: 'Edit product' }
] %&gt;

&lt;div class="card mb-4"&gt;
  &lt;div class="card-header"&gt;
    &lt;h2 class="fs-4 mb-0"&gt;Edit product&lt;/h2&gt;
  &lt;/div&gt;
  &lt;div class="card-body"&gt;
    &lt;%= render 'products/form', product: @product %&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>

<h3>Partial Form</h3>

<pre>
&lt;%

product ||= Product.new

%&gt;

&lt;%= turbo_frame_tag dom_id(product, 'form') do %&gt;
  &lt;%= form_with model: product, url: product.persisted? ? products_update_action_path(product) : products_create_action_path, data: { turbo_frame: '_self', controller: 'lato-form' } do |form| %&gt;
    &lt;%= lato_form_notices class: %w[mb-3] %&gt;
    &lt;%= lato_form_errors product, class: %w[mb-3] %&gt;

    &lt;div class="mb-3"&gt;
      &lt;%= lato_form_item_label form, :code %&gt;
      &lt;%= lato_form_item_input_text form, :code, required: true, data: { controller: 'lato-input-autocomplete', lato_input_autocomplete_path_value: products_autocomplete_path } %&gt;
    &lt;/div&gt;

    &lt;div class="mb-3"&gt;
      &lt;%= lato_form_item_label form, :product_parent_id %&gt;
      &lt;%= lato_form_item_input_text form, :product_parent_id, required: true, data: { controller: 'lato-input-autocomplete2', lato_input_autocomplete2_path_value: products_autocomplete_path } %&gt;
    &lt;/div&gt;

    &lt;div class="d-flex justify-content-end"&gt;
      &lt;%= lato_form_submit form, product.persisted? ? 'Update' : 'Confirm', class: %w[btn-success] %&gt;
    &lt;/div&gt;
  &lt;% end %&gt;
&lt;% end %&gt;

</pre>

<h2>Helpers</h2>

<pre>
module ProductsHelper
  def product_status(product)
    lato_data_badge(Product.human_attribute_name("status.#{product.status}"), product.status_color)
  end

  def product_created_at(product)
    product.created_at.strftime('%d/%m/%Y')
  end

  def product_lato_user_id(product)
    lato_data_user(product.lato_user.full_name, product.lato_user.gravatar_image_url(50))
  end

  def product_product_parent_id(product)
    return ' - ' if product.product_parent.nil?

    product.product_parent.code
  end

  def product_lifetime(product)
    Time.at(product.lifetime).utc.strftime('%H h %M m')
  end

  def product_actions(product)
    content_tag(:div, class: 'btn-group btn-group-sm') do
      concat link_to('Edit', products_update_path(product), class: 'btn btn-primary', data: { lato_action_target: 'trigger', turbo_frame: dom_id(product, 'form'), action_title: 'Edit product' })
      concat link_to('Delete', '#', class: 'btn btn-danger', data: { turbo_method: 'POST', turbo_confirm: 'Are you sure to continue?' })
    end
  end
end

</pre>


  </div>
</div>

    </main>
  </div>

  <footer>
    <div class="footer bg-light px-md-3 py-2 border-top" style="font-size: 14px;">
  <div class="container-fluid text-center text-muted d-md-flex justify-content-between p-3">
    <div>
      v3.15.2 - Â© 2025 - <a target="_blank" href="https://github.com/lato-org">Lato Team</a>
    </div>
    <div class="mt-2 mt-md-0">
      <a href="https://github.com/Lato-org">Privacy policy</a> -
      <a href="https://github.com/Lato-org">Terms and conditions</a>
    </div>
  </div>
</div>
  </footer>

    <button class="aside-opener shadow" data-controller="lato-aside-opener" data-action="click-&gt;lato-aside-opener#onClickToggle" aria-label="Toggle sidebar">
  <i class="bi bi-layout-text-sidebar-reverse"></i>
</button>
  
  
<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


<div class="modal fade" data-lato-action-target="modal" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-lato-action-target="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4" data-lato-action-target="modalTitle"></h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-action-target="modalBody">
        ...
      </div>
    </div>
  </div>
</div>


  <div class="lato-confirm modal fade" data-controller="lato-confirm" tabindex="-1" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="mb-0 mt-0 fs-4">Confirm</h2>
        <button type="button" class="btn-close" data-action="click-&gt;lato-confirm#confirmCancel" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-lato-confirm-target="modalBody">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-action="click-&gt;lato-confirm#confirmCancel" aria-label="No, cancel">No, cancel</button>
        <button type="button" class="btn btn-success" data-action="click-&gt;lato-confirm#confirmSuccess" aria-label="Yes, confirm">Yes, confirm</button>
      </div>
    </div>
  </div>
</div>
  <div class="toast-container">

</div>
  <div class="fixed-bottom p-3 d-none" data-controller="lato-network">
  <span class="badge rounded-pill text-bg-danger fs-6 d-none" data-lato-network-target="offline">You are offline</span>
  <span class="badge rounded-pill text-bg-success fs-6 d-none" data-lato-network-target="online">You are online</span>
</div>

  <!-- Free for foot tags -->
</body>
</html>
